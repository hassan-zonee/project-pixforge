"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/resize/route";
exports.ids = ["app/api/resize/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "sharp":
/*!************************!*\
  !*** external "sharp" ***!
  \************************/
/***/ ((module) => {

module.exports = require("sharp");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("fs/promises");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fresize%2Froute&page=%2Fapi%2Fresize%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fresize%2Froute.ts&appDir=C%3A%5CUsers%5CDELL%5CDesktop%5CProjects%5Cproject-pixforge%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CDELL%5CDesktop%5CProjects%5Cproject-pixforge&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fresize%2Froute&page=%2Fapi%2Fresize%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fresize%2Froute.ts&appDir=C%3A%5CUsers%5CDELL%5CDesktop%5CProjects%5Cproject-pixforge%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CDELL%5CDesktop%5CProjects%5Cproject-pixforge&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_DELL_Desktop_Projects_project_pixforge_app_api_resize_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/resize/route.ts */ \"(rsc)/./app/api/resize/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/resize/route\",\n        pathname: \"/api/resize\",\n        filename: \"route\",\n        bundlePath: \"app/api/resize/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\DELL\\\\Desktop\\\\Projects\\\\project-pixforge\\\\app\\\\api\\\\resize\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_DELL_Desktop_Projects_project_pixforge_app_api_resize_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/resize/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZyZXNpemUlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnJlc2l6ZSUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnJlc2l6ZSUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNERUxMJTVDRGVza3RvcCU1Q1Byb2plY3RzJTVDcHJvamVjdC1waXhmb3JnZSU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDREVMTCU1Q0Rlc2t0b3AlNUNQcm9qZWN0cyU1Q3Byb2plY3QtcGl4Zm9yZ2UmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDZ0M7QUFDN0c7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUM2Sjs7QUFFN0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9waXhmb3JnZS1uZXh0anMvPzhmZTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcVXNlcnNcXFxcREVMTFxcXFxEZXNrdG9wXFxcXFByb2plY3RzXFxcXHByb2plY3QtcGl4Zm9yZ2VcXFxcYXBwXFxcXGFwaVxcXFxyZXNpemVcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3Jlc2l6ZS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3Jlc2l6ZVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvcmVzaXplL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcREVMTFxcXFxEZXNrdG9wXFxcXFByb2plY3RzXFxcXHByb2plY3QtcGl4Zm9yZ2VcXFxcYXBwXFxcXGFwaVxcXFxyZXNpemVcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvcmVzaXplL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCwgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fresize%2Froute&page=%2Fapi%2Fresize%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fresize%2Froute.ts&appDir=C%3A%5CUsers%5CDELL%5CDesktop%5CProjects%5Cproject-pixforge%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CDELL%5CDesktop%5CProjects%5Cproject-pixforge&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/resize/route.ts":
/*!*********************************!*\
  !*** ./app/api/resize/route.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var sharp__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sharp */ \"sharp\");\n/* harmony import */ var sharp__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sharp__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! fs/promises */ \"fs/promises\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(fs_promises__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/uuid/dist/esm/v4.js\");\n/* harmony import */ var opencv_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! opencv.js */ \"(rsc)/./node_modules/opencv.js/opencv.js\");\n/* harmony import */ var opencv_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(opencv_js__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n\n\n// Set up the directories\nconst uploadDir = path__WEBPACK_IMPORTED_MODULE_2___default().join(process.cwd(), \"uploads\");\nconst resizedDir = path__WEBPACK_IMPORTED_MODULE_2___default().join(process.cwd(), \"resized\");\n// Ensure directories exist\nasync function ensureDirectories() {\n    if (!(0,fs__WEBPACK_IMPORTED_MODULE_4__.existsSync)(uploadDir)) {\n        await (0,fs_promises__WEBPACK_IMPORTED_MODULE_3__.mkdir)(uploadDir, {\n            recursive: true\n        });\n    }\n    if (!(0,fs__WEBPACK_IMPORTED_MODULE_4__.existsSync)(resizedDir)) {\n        await (0,fs_promises__WEBPACK_IMPORTED_MODULE_3__.mkdir)(resizedDir, {\n            recursive: true\n        });\n    }\n}\n// Function to resize image with OpenCV\nasync function resizeImageWithOpenCV(inputPath, outputPath, newWidth, newHeight) {\n    try {\n        // Read the image file\n        const imageBuffer = await (0,fs_promises__WEBPACK_IMPORTED_MODULE_3__.readFile)(inputPath);\n        // Convert buffer to Uint8Array for OpenCV\n        const imageArray = new Uint8Array(imageBuffer);\n        // Read image with OpenCV\n        const mat = opencv_js__WEBPACK_IMPORTED_MODULE_5___default().imdecode(imageArray, (opencv_js__WEBPACK_IMPORTED_MODULE_5___default().IMREAD_UNCHANGED));\n        // Create destination matrix\n        const dst = new (opencv_js__WEBPACK_IMPORTED_MODULE_5___default().Mat)();\n        // Resize the image\n        const dsize = new (opencv_js__WEBPACK_IMPORTED_MODULE_5___default().Size)(newWidth, newHeight);\n        opencv_js__WEBPACK_IMPORTED_MODULE_5___default().resize(mat, dst, dsize, 0, 0, (opencv_js__WEBPACK_IMPORTED_MODULE_5___default().INTER_AREA));\n        // Encode the resized image\n        const encodedImage = opencv_js__WEBPACK_IMPORTED_MODULE_5___default().imencode(\".jpg\", dst);\n        // Write the resized image to file\n        await (0,fs_promises__WEBPACK_IMPORTED_MODULE_3__.writeFile)(outputPath, Buffer.from(encodedImage));\n        // Free memory\n        mat.delete();\n        dst.delete();\n    } catch (error) {\n        console.error(\"Error resizing with OpenCV:\", error);\n        throw error;\n    }\n}\n// Fallback to Sharp if OpenCV fails\nasync function resizeImageWithSharp(inputPath, outputPath, newWidth, newHeight) {\n    try {\n        await sharp__WEBPACK_IMPORTED_MODULE_1___default()(inputPath).resize({\n            width: newWidth,\n            height: newHeight,\n            fit: \"fill\"\n        }).toFile(outputPath);\n    } catch (error) {\n        console.error(\"Error resizing with Sharp:\", error);\n        throw error;\n    }\n}\nasync function POST(request) {\n    try {\n        await ensureDirectories();\n        const data = await request.json();\n        const { fileName, resizeType, width, height, percentage } = data;\n        if (!fileName) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"No file specified\"\n            }, {\n                status: 400\n            });\n        }\n        const filePath = path__WEBPACK_IMPORTED_MODULE_2___default().join(uploadDir, fileName);\n        if (!(0,fs__WEBPACK_IMPORTED_MODULE_4__.existsSync)(filePath)) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"File not found\"\n            }, {\n                status: 404\n            });\n        }\n        // Get the file extension\n        const fileExtension = fileName.split(\".\").pop();\n        // Get original image metadata\n        const metadata = await sharp__WEBPACK_IMPORTED_MODULE_1___default()(filePath).metadata();\n        const originalWidth = metadata.width;\n        const originalHeight = metadata.height;\n        if (!originalWidth || !originalHeight) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Could not determine image dimensions\"\n            }, {\n                status: 400\n            });\n        }\n        // Calculate new dimensions\n        let newWidth;\n        let newHeight;\n        if (resizeType === \"ratio\") {\n            if (!width || !height) {\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    error: \"Width and height are required for ratio resize\"\n                }, {\n                    status: 400\n                });\n            }\n            newWidth = parseInt(width);\n            newHeight = parseInt(height);\n        } else if (resizeType === \"percentage\") {\n            if (!percentage || percentage < 10 || percentage > 100) {\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    error: \"Percentage must be between 10 and 100\"\n                }, {\n                    status: 400\n                });\n            }\n            newWidth = Math.round(originalWidth * percentage / 100);\n            newHeight = Math.round(originalHeight * percentage / 100);\n        } else {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Invalid resize type\"\n            }, {\n                status: 400\n            });\n        }\n        // Generate a unique filename for the resized image\n        const resizedId = (0,uuid__WEBPACK_IMPORTED_MODULE_6__[\"default\"])();\n        const resizedFileName = `${resizedId}.${fileExtension}`;\n        const resizedFilePath = path__WEBPACK_IMPORTED_MODULE_2___default().join(resizedDir, resizedFileName);\n        // Try to resize with OpenCV first, fallback to Sharp if it fails\n        try {\n            await resizeImageWithOpenCV(filePath, resizedFilePath, newWidth, newHeight);\n            console.log(\"Image resized with OpenCV\");\n        } catch (error) {\n            console.warn(\"OpenCV resize failed, falling back to Sharp:\", error);\n            await resizeImageWithSharp(filePath, resizedFilePath, newWidth, newHeight);\n            console.log(\"Image resized with Sharp (fallback)\");\n        }\n        // Return the resized file details\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            resizedFileName,\n            originalName: fileName,\n            resizedPath: `/resized/${resizedFileName}`\n        });\n    } catch (error) {\n        console.error(\"Error resizing image:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Failed to resize image\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQztRQUN2RCxNQUFNVyxrQkFBa0JoRSxnREFBUyxDQUFDWSxZQUFZbUQ7UUFFOUMsaUVBQWlFO1FBQ2pFLElBQUk7WUFDRixNQUFNaEQsc0JBQXNCcUMsVUFBVVksaUJBQWlCOUMsVUFBVUM7WUFDakVtQixRQUFRMkIsR0FBRyxDQUFDO1FBQ2QsRUFBRSxPQUFPNUIsT0FBTztZQUNkQyxRQUFRNEIsSUFBSSxDQUFDLGdEQUFnRDdCO1lBQzdELE1BQU1FLHFCQUFxQmEsVUFBVVksaUJBQWlCOUMsVUFBVUM7WUFDaEVtQixRQUFRMkIsR0FBRyxDQUFDO1FBQ2Q7UUFFQSxrQ0FBa0M7UUFDbEMsT0FBT25FLGtGQUFZQSxDQUFDaUQsSUFBSSxDQUFDO1lBQ3ZCb0IsU0FBUztZQUNUSjtZQUNBSyxjQUFjcEI7WUFDZHFCLGFBQWEsQ0FBQyxTQUFTLEVBQUVOLGdCQUFnQixDQUFDO1FBQzVDO0lBQ0YsRUFBRSxPQUFPMUIsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMseUJBQXlCQTtRQUN2QyxPQUFPdkMsa0ZBQVlBLENBQUNpRCxJQUFJLENBQ3RCO1lBQUVWLE9BQU87UUFBeUIsR0FDbEM7WUFBRWMsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9waXhmb3JnZS1uZXh0anMvLi9hcHAvYXBpL3Jlc2l6ZS9yb3V0ZS50cz9lYTg0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XHJcbmltcG9ydCBzaGFycCBmcm9tICdzaGFycCc7XHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xyXG5pbXBvcnQgeyB3cml0ZUZpbGUsIG1rZGlyLCByZWFkRmlsZSB9IGZyb20gJ2ZzL3Byb21pc2VzJztcclxuaW1wb3J0IHsgZXhpc3RzU3luYyB9IGZyb20gJ2ZzJztcclxuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7XHJcbmltcG9ydCBjdiBmcm9tICdvcGVuY3YuanMnO1xyXG5cclxuLy8gU2V0IHVwIHRoZSBkaXJlY3Rvcmllc1xyXG5jb25zdCB1cGxvYWREaXIgPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ3VwbG9hZHMnKTtcclxuY29uc3QgcmVzaXplZERpciA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAncmVzaXplZCcpO1xyXG5cclxuLy8gRW5zdXJlIGRpcmVjdG9yaWVzIGV4aXN0XHJcbmFzeW5jIGZ1bmN0aW9uIGVuc3VyZURpcmVjdG9yaWVzKCkge1xyXG4gIGlmICghZXhpc3RzU3luYyh1cGxvYWREaXIpKSB7XHJcbiAgICBhd2FpdCBta2Rpcih1cGxvYWREaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xyXG4gIH1cclxuICBpZiAoIWV4aXN0c1N5bmMocmVzaXplZERpcikpIHtcclxuICAgIGF3YWl0IG1rZGlyKHJlc2l6ZWREaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xyXG4gIH1cclxufVxyXG5cclxuLy8gRnVuY3Rpb24gdG8gcmVzaXplIGltYWdlIHdpdGggT3BlbkNWXHJcbmFzeW5jIGZ1bmN0aW9uIHJlc2l6ZUltYWdlV2l0aE9wZW5DVihcclxuICBpbnB1dFBhdGg6IHN0cmluZywgXHJcbiAgb3V0cHV0UGF0aDogc3RyaW5nLCBcclxuICBuZXdXaWR0aDogbnVtYmVyLCBcclxuICBuZXdIZWlnaHQ6IG51bWJlclxyXG4pOiBQcm9taXNlPHZvaWQ+IHtcclxuICB0cnkge1xyXG4gICAgLy8gUmVhZCB0aGUgaW1hZ2UgZmlsZVxyXG4gICAgY29uc3QgaW1hZ2VCdWZmZXIgPSBhd2FpdCByZWFkRmlsZShpbnB1dFBhdGgpO1xyXG4gICAgXHJcbiAgICAvLyBDb252ZXJ0IGJ1ZmZlciB0byBVaW50OEFycmF5IGZvciBPcGVuQ1ZcclxuICAgIGNvbnN0IGltYWdlQXJyYXkgPSBuZXcgVWludDhBcnJheShpbWFnZUJ1ZmZlcik7XHJcbiAgICBcclxuICAgIC8vIFJlYWQgaW1hZ2Ugd2l0aCBPcGVuQ1ZcclxuICAgIGNvbnN0IG1hdCA9IGN2LmltZGVjb2RlKGltYWdlQXJyYXksIGN2LklNUkVBRF9VTkNIQU5HRUQpO1xyXG4gICAgXHJcbiAgICAvLyBDcmVhdGUgZGVzdGluYXRpb24gbWF0cml4XHJcbiAgICBjb25zdCBkc3QgPSBuZXcgY3YuTWF0KCk7XHJcbiAgICBcclxuICAgIC8vIFJlc2l6ZSB0aGUgaW1hZ2VcclxuICAgIGNvbnN0IGRzaXplID0gbmV3IGN2LlNpemUobmV3V2lkdGgsIG5ld0hlaWdodCk7XHJcbiAgICBjdi5yZXNpemUobWF0LCBkc3QsIGRzaXplLCAwLCAwLCBjdi5JTlRFUl9BUkVBKTtcclxuICAgIFxyXG4gICAgLy8gRW5jb2RlIHRoZSByZXNpemVkIGltYWdlXHJcbiAgICBjb25zdCBlbmNvZGVkSW1hZ2UgPSBjdi5pbWVuY29kZSgnLmpwZycsIGRzdCk7XHJcbiAgICBcclxuICAgIC8vIFdyaXRlIHRoZSByZXNpemVkIGltYWdlIHRvIGZpbGVcclxuICAgIGF3YWl0IHdyaXRlRmlsZShvdXRwdXRQYXRoLCBCdWZmZXIuZnJvbShlbmNvZGVkSW1hZ2UpKTtcclxuICAgIFxyXG4gICAgLy8gRnJlZSBtZW1vcnlcclxuICAgIG1hdC5kZWxldGUoKTtcclxuICAgIGRzdC5kZWxldGUoKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVzaXppbmcgd2l0aCBPcGVuQ1Y6JywgZXJyb3IpO1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBGYWxsYmFjayB0byBTaGFycCBpZiBPcGVuQ1YgZmFpbHNcclxuYXN5bmMgZnVuY3Rpb24gcmVzaXplSW1hZ2VXaXRoU2hhcnAoXHJcbiAgaW5wdXRQYXRoOiBzdHJpbmcsIFxyXG4gIG91dHB1dFBhdGg6IHN0cmluZywgXHJcbiAgbmV3V2lkdGg6IG51bWJlciwgXHJcbiAgbmV3SGVpZ2h0OiBudW1iZXJcclxuKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IHNoYXJwKGlucHV0UGF0aClcclxuICAgICAgLnJlc2l6ZSh7XHJcbiAgICAgICAgd2lkdGg6IG5ld1dpZHRoLFxyXG4gICAgICAgIGhlaWdodDogbmV3SGVpZ2h0LFxyXG4gICAgICAgIGZpdDogJ2ZpbGwnXHJcbiAgICAgIH0pXHJcbiAgICAgIC50b0ZpbGUob3V0cHV0UGF0aCk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlc2l6aW5nIHdpdGggU2hhcnA6JywgZXJyb3IpO1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIHRyeSB7XHJcbiAgICBhd2FpdCBlbnN1cmVEaXJlY3RvcmllcygpO1xyXG4gICAgXHJcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XHJcbiAgICBjb25zdCB7IGZpbGVOYW1lLCByZXNpemVUeXBlLCB3aWR0aCwgaGVpZ2h0LCBwZXJjZW50YWdlIH0gPSBkYXRhO1xyXG4gICAgXHJcbiAgICBpZiAoIWZpbGVOYW1lKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnTm8gZmlsZSBzcGVjaWZpZWQnIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IGZpbGVQYXRoID0gcGF0aC5qb2luKHVwbG9hZERpciwgZmlsZU5hbWUpO1xyXG4gICAgaWYgKCFleGlzdHNTeW5jKGZpbGVQYXRoKSkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ0ZpbGUgbm90IGZvdW5kJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDQgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBHZXQgdGhlIGZpbGUgZXh0ZW5zaW9uXHJcbiAgICBjb25zdCBmaWxlRXh0ZW5zaW9uID0gZmlsZU5hbWUuc3BsaXQoJy4nKS5wb3AoKTtcclxuICAgIFxyXG4gICAgLy8gR2V0IG9yaWdpbmFsIGltYWdlIG1ldGFkYXRhXHJcbiAgICBjb25zdCBtZXRhZGF0YSA9IGF3YWl0IHNoYXJwKGZpbGVQYXRoKS5tZXRhZGF0YSgpO1xyXG4gICAgY29uc3Qgb3JpZ2luYWxXaWR0aCA9IG1ldGFkYXRhLndpZHRoO1xyXG4gICAgY29uc3Qgb3JpZ2luYWxIZWlnaHQgPSBtZXRhZGF0YS5oZWlnaHQ7XHJcbiAgICBcclxuICAgIGlmICghb3JpZ2luYWxXaWR0aCB8fCAhb3JpZ2luYWxIZWlnaHQpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6ICdDb3VsZCBub3QgZGV0ZXJtaW5lIGltYWdlIGRpbWVuc2lvbnMnIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIENhbGN1bGF0ZSBuZXcgZGltZW5zaW9uc1xyXG4gICAgbGV0IG5ld1dpZHRoOiBudW1iZXI7XHJcbiAgICBsZXQgbmV3SGVpZ2h0OiBudW1iZXI7XHJcbiAgICBcclxuICAgIGlmIChyZXNpemVUeXBlID09PSAncmF0aW8nKSB7XHJcbiAgICAgIGlmICghd2lkdGggfHwgIWhlaWdodCkge1xyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgIHsgZXJyb3I6ICdXaWR0aCBhbmQgaGVpZ2h0IGFyZSByZXF1aXJlZCBmb3IgcmF0aW8gcmVzaXplJyB9LFxyXG4gICAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgICBuZXdXaWR0aCA9IHBhcnNlSW50KHdpZHRoKTtcclxuICAgICAgbmV3SGVpZ2h0ID0gcGFyc2VJbnQoaGVpZ2h0KTtcclxuICAgIH0gZWxzZSBpZiAocmVzaXplVHlwZSA9PT0gJ3BlcmNlbnRhZ2UnKSB7XHJcbiAgICAgIGlmICghcGVyY2VudGFnZSB8fCBwZXJjZW50YWdlIDwgMTAgfHwgcGVyY2VudGFnZSA+IDEwMCkge1xyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgIHsgZXJyb3I6ICdQZXJjZW50YWdlIG11c3QgYmUgYmV0d2VlbiAxMCBhbmQgMTAwJyB9LFxyXG4gICAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgbmV3V2lkdGggPSBNYXRoLnJvdW5kKChvcmlnaW5hbFdpZHRoICogcGVyY2VudGFnZSkgLyAxMDApO1xyXG4gICAgICBuZXdIZWlnaHQgPSBNYXRoLnJvdW5kKChvcmlnaW5hbEhlaWdodCAqIHBlcmNlbnRhZ2UpIC8gMTAwKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnSW52YWxpZCByZXNpemUgdHlwZScgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gR2VuZXJhdGUgYSB1bmlxdWUgZmlsZW5hbWUgZm9yIHRoZSByZXNpemVkIGltYWdlXHJcbiAgICBjb25zdCByZXNpemVkSWQgPSB1dWlkdjQoKTtcclxuICAgIGNvbnN0IHJlc2l6ZWRGaWxlTmFtZSA9IGAke3Jlc2l6ZWRJZH0uJHtmaWxlRXh0ZW5zaW9ufWA7XHJcbiAgICBjb25zdCByZXNpemVkRmlsZVBhdGggPSBwYXRoLmpvaW4ocmVzaXplZERpciwgcmVzaXplZEZpbGVOYW1lKTtcclxuICAgIFxyXG4gICAgLy8gVHJ5IHRvIHJlc2l6ZSB3aXRoIE9wZW5DViBmaXJzdCwgZmFsbGJhY2sgdG8gU2hhcnAgaWYgaXQgZmFpbHNcclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IHJlc2l6ZUltYWdlV2l0aE9wZW5DVihmaWxlUGF0aCwgcmVzaXplZEZpbGVQYXRoLCBuZXdXaWR0aCwgbmV3SGVpZ2h0KTtcclxuICAgICAgY29uc29sZS5sb2coJ0ltYWdlIHJlc2l6ZWQgd2l0aCBPcGVuQ1YnKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignT3BlbkNWIHJlc2l6ZSBmYWlsZWQsIGZhbGxpbmcgYmFjayB0byBTaGFycDonLCBlcnJvcik7XHJcbiAgICAgIGF3YWl0IHJlc2l6ZUltYWdlV2l0aFNoYXJwKGZpbGVQYXRoLCByZXNpemVkRmlsZVBhdGgsIG5ld1dpZHRoLCBuZXdIZWlnaHQpO1xyXG4gICAgICBjb25zb2xlLmxvZygnSW1hZ2UgcmVzaXplZCB3aXRoIFNoYXJwIChmYWxsYmFjayknKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gUmV0dXJuIHRoZSByZXNpemVkIGZpbGUgZGV0YWlsc1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgcmVzaXplZEZpbGVOYW1lLFxyXG4gICAgICBvcmlnaW5hbE5hbWU6IGZpbGVOYW1lLFxyXG4gICAgICByZXNpemVkUGF0aDogYC9yZXNpemVkLyR7cmVzaXplZEZpbGVOYW1lfWAsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVzaXppbmcgaW1hZ2U6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IGVycm9yOiAnRmFpbGVkIHRvIHJlc2l6ZSBpbWFnZScgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApO1xyXG4gIH1cclxufSAiXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwic2hhcnAiLCJwYXRoIiwid3JpdGVGaWxlIiwibWtkaXIiLCJyZWFkRmlsZSIsImV4aXN0c1N5bmMiLCJ2NCIsInV1aWR2NCIsImN2IiwidXBsb2FkRGlyIiwiam9pbiIsInByb2Nlc3MiLCJjd2QiLCJyZXNpemVkRGlyIiwiZW5zdXJlRGlyZWN0b3JpZXMiLCJyZWN1cnNpdmUiLCJyZXNpemVJbWFnZVdpdGhPcGVuQ1YiLCJpbnB1dFBhdGgiLCJvdXRwdXRQYXRoIiwibmV3V2lkdGgiLCJuZXdIZWlnaHQiLCJpbWFnZUJ1ZmZlciIsImltYWdlQXJyYXkiLCJVaW50OEFycmF5IiwibWF0IiwiaW1kZWNvZGUiLCJJTVJFQURfVU5DSEFOR0VEIiwiZHN0IiwiTWF0IiwiZHNpemUiLCJTaXplIiwicmVzaXplIiwiSU5URVJfQVJFQSIsImVuY29kZWRJbWFnZSIsImltZW5jb2RlIiwiQnVmZmVyIiwiZnJvbSIsImRlbGV0ZSIsImVycm9yIiwiY29uc29sZSIsInJlc2l6ZUltYWdlV2l0aFNoYXJwIiwid2lkdGgiLCJoZWlnaHQiLCJmaXQiLCJ0b0ZpbGUiLCJQT1NUIiwicmVxdWVzdCIsImRhdGEiLCJqc29uIiwiZmlsZU5hbWUiLCJyZXNpemVUeXBlIiwicGVyY2VudGFnZSIsInN0YXR1cyIsImZpbGVQYXRoIiwiZmlsZUV4dGVuc2lvbiIsInNwbGl0IiwicG9wIiwibWV0YWRhdGEiLCJvcmlnaW5hbFdpZHRoIiwib3JpZ2luYWxIZWlnaHQiLCJwYXJzZUludCIsIk1hdGgiLCJyb3VuZCIsInJlc2l6ZWRJZCIsInJlc2l6ZWRGaWxlTmFtZSIsInJlc2l6ZWRGaWxlUGF0aCIsImxvZyIsIndhcm4iLCJzdWNjZXNzIiwib3JpZ2luYWxOYW1lIiwicmVzaXplZFBhdGgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/resize/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/uuid","vendor-chunks/opencv.js"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fresize%2Froute&page=%2Fapi%2Fresize%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fresize%2Froute.ts&appDir=C%3A%5CUsers%5CDELL%5CDesktop%5CProjects%5Cproject-pixforge%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CDELL%5CDesktop%5CProjects%5Cproject-pixforge&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();